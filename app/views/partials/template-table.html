<form ng-if="lfData" class="lf-form lf-template-table" novalidate autocomplete="false"
      ng-keydown="handleNavigationKeyEventByTab($event)">
    <!--form options-->
    <lf-form-controls></lf-form-controls>
    <!--form title-->
    <h3 class="lf-form-title">
      <span>{{lfData.name}}</span>
      <span class="item-code" ng-if="lfData.templateOptions.showQuestionCode">
        <a ng-if="lfData._linkToDef" href="{{ lfData._linkToDef }}" target="_blank">[{{ lfData.code }}]</a>
        <span ng-if="!lfData._linkToDef">[{{ lfData.code }}]</span>
      </span>
      <button ng-if="lfData.copyrightNotice" id="copyright-{{lfData.code}}" type="button"
              class="copyright-button" uib-popover="{{lfData.copyrightNotice}}"
              popover-trigger="focus" popover-placement="right" popover-title="Copyright">&#9400;</button>
    </h3>
    <!--form header-->
    <lf-form-header></lf-form-header>
    <!--form body-->
    <div class="lf-form-body">
      <!--check form level questionLayout for matrix and horizontal layouts-->
      <div ng-switch on="lfData.templateOptions.displayControl.questionLayout">
        <!--horizontal-->
        <div ng-switch-when="horizontal" class="top-section">
          <lf-section-horizontal></lf-section-horizontal>
        </div>
        <!--matrix-->
        <div ng-switch-when="matrix" class="top-section">
          <lf-section-matrix></lf-section-matrix>
        </div>
        <!--vertical-->
        <div ng-switch-default>
          <!-- data row, column header -->
          <div class="lf-column-header">
            <div class="lf-column-label-button" id="th_Name">
              Name
            </div>
            <div class="lf-column-input-unit" ng-style="getScreenWidth()">
              <div class="lf-column-input" id="th_Value">
                Value
              </div>
              <div ng-if="!lfData.templateOptions.hideUnits" class="lf-column-unit" id="th_Units">
                Units
              </div>
            </div>
          </div>
          <!-- data row, for each item -->
          <!-- check each top level item's questionLayout -->
          <div ng-if="lfData.items" class="lf-form-table">
            <div ng-repeat="item in lfData.items" ng-if="targetShown(item)"
                 class="data-row has-ng-animate {{getRowClass(item)}} {{getSkipLogicClass(item)}} {{getActiveRowClass(item)}}"
                 ng-click="setActiveRow(item)">
              <!--header item-->
              <div ng-if="item.header" ng-switch on="item.displayControl.questionLayout">
                <div ng-switch-when="horizontal">
                  <lf-section-horizontal></lf-section-horizontal>
                </div>
                <div ng-switch-when="matrix">
                  <lf-section-matrix></lf-section-matrix>
                </div>
                <div ng-switch-when="vertical">
                  <lf-table-item></lf-table-item>
                </div>
                <div ng-switch-default>
                  <lf-table-item></lf-table-item>
                </div>
              </div>
              <!--non-header data item-->
              <div ng-if="!item.header">
                <lf-table-item></lf-table-item>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</form>
